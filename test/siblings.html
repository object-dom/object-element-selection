<!DOCTYPE html>
<html>
  <head>
    <title>Test</title>
  </head>
  <body>
    <script src="/build/build.js"></script>
    <script>
      var dom = require('dom-helper');
      var test = require('simple-test');
      var ObjectElement = require('object-element');
          require('object-element-selection');

      test('objectElement.prevSibling', function () {
        var div = dom.insertDiv('div');
        var div1 = dom.insertDiv('div1');
        var div2 = dom.insertDiv('div2');
        var div3 = dom.insertDiv('div3');
        var objectDiv3 = new ObjectElement(div3);

        div.appendChild(div1);
        div.appendChild(div2);
        div.appendChild(div3);

        test.eq(objectDiv3.prevSibling.element, div2);
        dom.remove(div);
      });

      test('objectElement.nextSibling', function () {
        var div = dom.insertDiv('div');
        var div1 = dom.insertDiv('div1');
        var div2 = dom.insertDiv('div2');
        var div3 = dom.insertDiv('div3');
        var objectDiv1 = new ObjectElement(div1);

        div.appendChild(div1);
        div.appendChild(div2);
        div.appendChild(div3);

        test.eq(objectDiv1.nextSibling.element, div2);
        dom.remove(div);
      });

      test('objectElement.selectPrevSibling(selector)', function () {
        var div = dom.insertDiv('div', 'div');
        var div1 = dom.insertDiv('div1', 'div1');
        var div2 = dom.insertDiv('div2', 'div2');
        var div3 = dom.insertDiv('div3', 'div3');
        var objectDiv3 = new ObjectElement(div3);

        div.appendChild(div1);
        div.appendChild(div2);
        div.appendChild(div3);

        test.eq(objectDiv3.selectPrevSibling('.div1').element, div1);
        test.eq(objectDiv3.selectPrevSibling('.div2').element, div2);
        dom.remove(div);
      });

      test('objectElement.selectNextSibling(selector)', function () {
        var div = dom.insertDiv('div', 'div');
        var div1 = dom.insertDiv('div1', 'div1');
        var div2 = dom.insertDiv('div2', 'div2');
        var div3 = dom.insertDiv('div3', 'div3');
        var objectDiv1 = new ObjectElement(div1);

        div.appendChild(div1);
        div.appendChild(div2);
        div.appendChild(div3);

        test.eq(objectDiv1.selectNextSibling('.div2').element, div2);
        test.eq(objectDiv1.selectNextSibling('.div3').element, div3);
        dom.remove(div);
      });

      test('objectElement.prevSiblings', function () {
        var div = dom.insertDiv('div');
        var div1 = dom.insertDiv('div1');
        var div2 = dom.insertDiv('div2');
        var div3 = dom.insertDiv('div3');
        var objectDiv3 = new ObjectElement(div3);

        div.appendChild(div1);
        div.appendChild(div2);
        div.appendChild(div3);

        test.eq(objectDiv3.prevSiblings.length, 2);
        test.eq(objectDiv3.prevSiblings[0].element, div1);
        test.eq(objectDiv3.prevSiblings[1].element, div2);
        dom.remove(div);
      });

      test('objectElement.nextSiblings', function () {
        var div = dom.insertDiv('div');
        var div1 = dom.insertDiv('div1');
        var div2 = dom.insertDiv('div2');
        var div3 = dom.insertDiv('div3');
        var objectDiv1 = new ObjectElement(div1);

        div.appendChild(div1);
        div.appendChild(div2);
        div.appendChild(div3);

        test.eq(objectDiv1.nextSiblings.length, 2);
        test.eq(objectDiv1.nextSiblings[0].element, div2);
        test.eq(objectDiv1.nextSiblings[1].element, div3);
        dom.remove(div);
      });

      test('objectElement.siblings', function () {
        var div = dom.insertDiv('div');
        var div1 = dom.insertDiv('div1');
        var div2 = dom.insertDiv('div2');
        var div3 = dom.insertDiv('div3');
        var objectDiv2 = new ObjectElement(div2);

        div.appendChild(div1);
        div.appendChild(div2);
        div.appendChild(div3);

        test.eq(objectDiv2.siblings.length, 2);
        test.eq(objectDiv2.siblings[0].element, div1);
        test.eq(objectDiv2.siblings[1].element, div3);
        dom.remove(div);
      });

      test('objectElement.selectPrevSiblings(selector)', function () {
        var div = dom.insertDiv('div', 'div');
        var div1 = dom.insertDiv('div1', 'div1');
        var div2 = dom.insertDiv('div2', 'div2');
        var div3 = dom.insertDiv('div3', 'div3');
        var objectDiv3 = new ObjectElement(div3);

        div.appendChild(div1);
        div.appendChild(div2);
        div.appendChild(div3);

        test.eq(objectDiv3.selectPrevSiblings('.div1').length, 1);
        test.eq(objectDiv3.selectPrevSiblings('.div1')[0].element, div1);
        test.eq(objectDiv3.selectPrevSiblings('.div2').length, 1);
        test.eq(objectDiv3.selectPrevSiblings('.div2')[0].element, div2);
        dom.remove(div);
      });

      test('objectElement.selectNextSiblings(selector)', function () {
        var div = dom.insertDiv('div', 'div');
        var div1 = dom.insertDiv('div1', 'div1');
        var div2 = dom.insertDiv('div2', 'div2');
        var div3 = dom.insertDiv('div3', 'div3');
        var objectDiv1 = new ObjectElement(div1);

        div.appendChild(div1);
        div.appendChild(div2);
        div.appendChild(div3);

        test.eq(objectDiv1.selectNextSiblings('.div2').length, 1);
        test.eq(objectDiv1.selectNextSiblings('.div2')[0].element, div2);
        test.eq(objectDiv1.selectNextSiblings('.div3').length, 1);
        test.eq(objectDiv1.selectNextSiblings('.div3')[0].element, div3);
        dom.remove(div);
      });

      test('objectElement.selectSiblings(selector)', function () {
        var div = dom.insertDiv('div', 'div');
        var div1 = dom.insertDiv('div1', 'div1');
        var div2 = dom.insertDiv('div2', 'div2');
        var div3 = dom.insertDiv('div3', 'div3');
        var objectDiv2 = new ObjectElement(div2);

        div.appendChild(div1);
        div.appendChild(div2);
        div.appendChild(div3);

        test.eq(objectDiv2.selectSiblings('.div1').length, 1);
        test.eq(objectDiv2.selectSiblings('.div1')[0].element, div1);
        test.eq(objectDiv2.selectSiblings('.div3').length, 1);
        test.eq(objectDiv2.selectSiblings('.div3')[0].element, div3);
        dom.remove(div);
      });

      </script>
  </body>
</html>
